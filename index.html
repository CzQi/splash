<!DOCTYPE HTML>
<html lang="zh-CN">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta name="viewport" content="user-scalable=no,minimum-scale=1,maximum-scale=1 width=device-width" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-touch-fullscreen" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <title>Lumina Splash下载</title>

</head>

<body>
    <center>
        <h2 id="tips">请点击右上角的“…”，选择“在浏览器打开”进行下载</h2>
    </center>
    <script type="text/javascript">

        goDownload();

        // 去下载
        function goDownload() {
            var u = navigator.userAgent, app = navigator.appVersion;
            var isAndroid = u.indexOf('Android') > -1 || u.indexOf('Linux') > -1;
            var isIOS = !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);
            // 是安卓浏览器
            if (isAndroid) {
                if (is_weixn()) { // 是微信内部webView
                    alert("请点击右上角的“…”，选择“在浏览器打开”进行下载");
                }
                else {
                    window.location.href = 'https://hub.fastgit.xyz/CzQi/LL/releases/download/v1.6.4/Lumina.Splash_v1.6.4.apk'; // 跳安卓端下载地址
                }
            }
            // 是iOS浏览器
            if (isIOS) {
                window.location.href = 'https://apps.apple.com/cn/app/lumina-splash/id952353274'; // 跳AppStore下载地址
            }

            // 是PC端
            if (IsPC()) {
                window.location.href = 'https://hub.fastgit.xyz/CzQi/LL/releases/download/v1.6.4/Lumina.Splash_v1.6.4.apk'; // 跳安卓端下载地址
            }
        }

        // 是微信浏览器
        function is_weixn() {
            var ua = navigator.userAgent.toLowerCase();
            if (ua.match(/MicroMessenger/i) == "micromessenger") {
                return true;
            } else {
                return false;
            }
        }

        function IsPC() {
            var userAgentInfo = navigator.userAgent;
            var Agents = ["Android", "iPhone",
                "SymbianOS", "Windows Phone",
                "iPad", "iPod"];
            var flag = true;
            for (var v = 0; v < Agents.length; v++) {
                if (userAgentInfo.indexOf(Agents[v]) > 0) {
                    flag = false;
                    break;
                }
            }
            return flag;
        }
    </script>
</body>

</html>
